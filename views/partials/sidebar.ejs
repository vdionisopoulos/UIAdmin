<% 
  const slaToolPages = ['SLA Calculator', 'SLA Comparison', 'SLA Reverse'];
  const passToolPages = ['Password Generator', 'Passphrase Generator', 'Password Checker'];
%>

<aside id="sidebar" class="sidebar bg-body-tertiary border-end d-flex flex-column p-3">
  <!--<div class="d-flex flex-column flex-shrink-0 p-3 min-vh-100" id="sidebarMenu">-->


    <!-- Sidebar Navigation -->
    <ul class="nav nav-pills flex-column mb-auto">

      <!-- Dashboard -->
      <li class="nav-item" title="Dashboard">
        <a href="/" class="nav-link <%= title === 'Dashboard' ? 'active' : '' %>" aria-current="page">
          <i class="bi bi-house me-2"></i>
          <span class="sidebar-label">Dashboard</span>
        </a>
      </li>

      <!-- SLA Tools -->
      <li class="nav-item position-relative" title="SLA Tools">
        <a href="#slaTools"
           data-bs-toggle="collapse"
           role="button"
           aria-expanded="<%= slaToolPages.includes(title) %>"
           aria-controls="slaTools"
           class="nav-link d-flex justify-content-between align-items-center <%= slaToolPages.includes(title) ? '' : 'collapsed' %>">
          <span>
            <i class="bi bi-graph-up-arrow me-2"></i>
            <span class="sidebar-label">SLA Tools</span>
          </span>
          <i class="bi bi-chevron-down small collapse-arrow"></i>
        </a>

        <!-- Full mode submenu -->
        <ul id="slaTools" class="collapse list-unstyled ps-4 mt-1 <%= slaToolPages.includes(title) ? 'show' : '' %>">
          <li><a href="/tools/sla-calculator" class="nav-link px-0 small <%= title === 'SLA Calculator' ? 'active' : '' %>">→ SLA Calculator</a></li>
          <li><a href="/tools/sla-comparison" class="nav-link px-0 small <%= title === 'SLA Comparison' ? 'active' : '' %>">→ SLA Comparison</a></li>
          <li><a href="/tools/sla-reverse" class="nav-link px-0 small <%= title === 'SLA Reverse' ? 'active' : '' %>">→ SLA Reverse</a></li>
        </ul>

        <!-- Flyout submenu for compact -->
        <div class="sidebar-flyout">
          <ul class="list-unstyled mb-0">
            <li><a href="/tools/sla-calculator" class="dropdown-item <%= title === 'SLA Calculator' ? 'active' : '' %>">SLA Calculator</a></li>
            <li><a href="/tools/sla-comparison" class="dropdown-item <%= title === 'SLA Comparison' ? 'active' : '' %>">SLA Comparison</a></li>
            <li><a href="/tools/sla-reverse" class="dropdown-item <%= title === 'SLA Reverse' ? 'active' : '' %>">SLA Reverse</a></li>
          </ul>
        </div>
      </li>

      <!-- Password Tools -->
      <li class="nav-item position-relative" title="Password Tools">
        <a href="#passTools"
           data-bs-toggle="collapse"
           role="button"
           aria-expanded="<%= passToolPages.includes(title) %>"
           aria-controls="passTools"
           class="nav-link d-flex justify-content-between align-items-center <%= passToolPages.includes(title) ? '' : 'collapsed' %>">
          <span>
            <i class="bi bi-shield-lock me-2"></i>
            <span class="sidebar-label">Password Tools</span>
          </span>
          <i class="bi bi-chevron-down small collapse-arrow"></i>
        </a>

        <!-- Full mode submenu -->
        <ul id="passTools" class="collapse list-unstyled ps-4 mt-1 <%= passToolPages.includes(title) ? 'show' : '' %>">
          <li><a href="/tools/password-generator" class="nav-link px-0 small <%= title === 'Password Generator' ? 'active' : '' %>">→ Password Generator</a></li>
          <li><a href="/tools/passphrase-generator" class="nav-link px-0 small <%= title === 'Passphrase Generator' ? 'active' : '' %>">→ Passphrase Generator</a></li>
          <li><a href="/tools/password-checker" class="nav-link px-0 small <%= title === 'Password Checker' ? 'active' : '' %>">→ Strength Checker</a></li>
        </ul>

        <!-- Flyout submenu for compact -->
        <div class="sidebar-flyout">
          <ul class="list-unstyled mb-0">
            <li><a href="/tools/password-generator" class="dropdown-item <%= title === 'Password Generator' ? 'active' : '' %>">Password Generator</a></li>
            <li><a href="/tools/passphrase-generator" class="dropdown-item <%= title === 'Passphrase Generator' ? 'active' : '' %>">Passphrase Generator</a></li>
            <li><a href="/tools/password-checker" class="dropdown-item <%= title === 'Password Checker' ? 'active' : '' %>">Strength Checker</a></li>
          </ul>
        </div>
      </li>

      <!-- IP Lookup -->
      <li class="nav-item" title="IP Lookup">
        <a href="/tools/ip-lookup" class="nav-link link-body-emphasis <%= title === 'IP Lookup' ? 'active' : '' %>">
          <i class="bi bi-globe2 me-2"></i>
          <span class="sidebar-label">IP Lookup</span>
        </a>
      </li>

      <!-- Settings -->
      <li class="nav-item" title="Settings">
        <a href="/settings" class="nav-link link-body-emphasis <%= title === 'Settings' ? 'active' : '' %>">
          <i class="bi bi-gear me-2"></i>
          <span class="sidebar-label">Settings</span>
        </a>
      </li>

    </ul>

</aside>

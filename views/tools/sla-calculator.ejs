<%- include('../partials/header', { title: 'SLA Calculator' }) %>
<%- include('../partials/navbar') %>

<div class="wrapper d-flex flex-column min-vh-100">
  <%- include('../partials/adsbar') %>

  <div class="layout-content d-flex flex-grow-1">
    <%- include('../partials/sidebar') %>

    <main class="main-content p-4">
      <%- include('../partials/searchbar') %>
      <%- include('../partials/cookiebar') %>

      <div class="container-fluid">
        <h1 class="h3 mb-4">Calculate Allowed Downtime</h1>

        <div class="card">
          <div class="card-body">
            <form id="slaForm" class="d-flex justify-content-center">
              <div style="min-width: 360px; max-width: 600px; width: 100%;">
                <div class="mb-3">
                  <label for="uptime" class="form-label">
                    Uptime target (%) <span class="ms-1" title="Typical values: 99.9, 99.99, 99.999">ðŸ“Œ</span>
                  </label>
                  <input
                    type="text"
                    class="form-control"
                    id="uptime"
                    value="99.9"
                    placeholder="Enter uptime target (e.g. 99.999)"
                    inputmode="decimal"
                    pattern="^9[0-9](\.\d{1,6})?$"
                  />
                  <div class="invalid-feedback">Uptime must begin with 9 and be between 90.001 and 99.999</div>
                  <small class="form-text text-muted">Must be between 90.001 and less than 99.999</small>
                </div>
              </div>
            </form>

            <div id="results" class="d-flex justify-content-center mt-4" style="display: none;">
              <div style="min-width: 360px; max-width: 600px; width: 100%;">
                <h2 class="h5">Allowed Downtime</h2>
                <table class="table table-bordered text-center mt-3">
                  <thead class="table-light">
                    <tr>
                      <th>Period</th>
                      <th>Total Downtime</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr><td>Per Day</td><td id="dayResult">â€“</td></tr>
                    <tr><td>Per Month</td><td id="monthResult">â€“</td></tr>
                    <tr><td>Per Quarter</td><td id="quarterResult">â€“</td></tr>
                    <tr><td>Per Year</td><td id="yearResult">â€“</td></tr>
                  </tbody>

                </table>
                <button id="copyResults" class="btn btn-sm mt-2 btn-outline-theme">ðŸ“‹ Copy Results</button>
              </div>
            </div>

          </div>
        </div>
      </div>
    </main>
  </div>

  <%- include('../partials/footer', { script: 'tools/sla-calculator.js' }) %>
</div>

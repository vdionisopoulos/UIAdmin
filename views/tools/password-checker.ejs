<%- include('../partials/header', { title: 'Password Checker' }) %>
<%- include('../partials/navbar') %>

<div class="wrapper d-flex flex-column min-vh-100">
  <%- include('../partials/adsbar') %>

  <div class="layout-content d-flex flex-grow-1">
    <%- include('../partials/sidebar') %>

    <main class="main-content p-4">
      <%- include('../partials/searchbar') %>
      <%- include('../partials/cookiebar') %>

      <div class="container-fluid">
        <h1 class="h3 mb-4">Password Strength Checker</h1>

        <div class="card">
          <div class="card-body d-flex justify-content-center">
            <div style="min-width: 360px; max-width: 600px; width: 100%;">
              <div class="mb-3">
                <label for="password" class="form-label fw-bold">Enter Password</label>
                <input type="password" id="password" class="form-control border-success" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="off" />
              </div>

              <div class="d-flex justify-content-between align-items-center mb-3 flex-wrap gap-2">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="toggleVisibility" />
                  <label class="form-check-label" for="toggleVisibility">Show Password</label>
                </div>
                <div>
                  <button class="btn btn-outline-theme btn-sm border border-1" onclick="copyPassword()">ðŸ“‹ Copy to Clipboard</button>
                  <span id="copyMsg" class="ms-2 text-success small" style="display:none;">âœ” Copied</span>
                </div>
              </div>

              <div id="results" style="display: none;">
                <div id="strength" class="fw-bold mb-2"></div>

                <div id="strengthWrapper" class="mb-2 position-relative">
                  <div id="strengthBar" class="progress" style="height: 10px;">
                    <div id="strengthFill" class="progress-bar" style="width: 0%; transition: width 0.3s ease;"></div>
                  </div>
                  <div id="strengthTooltip" class="position-absolute bg-dark text-white px-2 py-1 rounded small" style="top: -30px; left: 0; opacity: 0;"></div>
                </div>

                <div id="feedback" class="text-muted small"></div>
                <div id="entropy" class="text-muted small mt-1"></div>
                <div id="theoreticalEntropy" class="text-muted small"></div>
                <div id="crackTime" class="text-muted small mt-2"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Load zxcvbn BEFORE footer -->
  <script src="https://cdn.jsdelivr.net/gh/dropbox/zxcvbn@4.4.2/dist/zxcvbn.js"></script>

  <%- include('../partials/footer', { script: 'tools/password-checker.js' }) %>
</div>
